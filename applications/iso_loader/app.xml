<?xml version="1.0" encoding="UTF-8"?>
<app name="ISO Loader" version="0.4.0" icon="./images/iso_loader_icon.png" extensions=".iso .cso .cdi .gdi">
	<resources>
		<module src="../../modules/minilzo.klf" />
		<module src="../../modules/isofs.klf" /> 
		<module src="../../modules/isoldr.klf" />
		<module src="./modules/app_iso_loader.klf" />
		
		<font src="../../fonts/ttf/m23.ttf" type="ttf" size="15" name="m23" />
		<font src="../../fonts/ttf/arial_lite.ttf" type="ttf" size="15" name="arial" />
		
		<surface width="640" height="100" name="head_bg">
			<blit x="0" y="0" width="640" height="100" surface="images/head_bg.png" />
		</surface>
		<surface width="640" height="380" name="games_bg">
			<blit x="0" y="0" width="640" height="380" surface="images/games_bg.png" />
		</surface>
		<surface width="640" height="380" name="settings_bg">
			<blit x="0" y="0" width="640" height="380" surface="images/settings_bg.png" />
		</surface>
		
		<image src="./images/cover_overlay.png" name="overlay" />
		<image src="./images/cover_image.jpg" name="cover" />
		
		<surface width="301" height="30" name="item-normal">
			<fill x="0" y="0" width="301" height="28" color="#CCE4F0" />
			<fill x="0" y="28" width="301" height="2" color="#FFFFFF" />
		</surface>
		<surface width="301" height="30" name="item-focus">
			<fill x="0" y="0" width="301" height="28" color="#85C4E2" />
			<fill x="0" y="28" width="301" height="2" color="#FFFFFF" />
		</surface>
		<surface width="301" height="30" name="item-selected">
			<fill x="0" y="0" width="301" height="28" color="#D4F129" />
			<fill x="0" y="28" width="301" height="2" color="#FFFFFF" />
		</surface>
		
		<image src="./images/btn_cd_norm.png" name="btn_cd_norm" />
		<image src="./images/btn_cd_over.png" name="btn_cd_over" />
		<image src="./images/btn_cd_disabled.png" name="btn_cd_disabled" />
		
		<image src="./images/btn_sd_norm.png" name="btn_sd_norm" />
		<image src="./images/btn_sd_over.png" name="btn_sd_over" />
		<image src="./images/btn_sd_disabled.png" name="btn_sd_disabled" />
		
		<image src="./images/btn_hdd_norm.png" name="btn_hdd_norm" />
		<image src="./images/btn_hdd_over.png" name="btn_hdd_over" />
		<image src="./images/btn_hdd_disabled.png" name="btn_hdd_disabled" />
		
		<image src="./images/btn_pc_norm.png" name="btn_pc_norm" />
		<image src="./images/btn_pc_over.png" name="btn_pc_over" />
		<image src="./images/btn_pc_disabled.png" name="btn_pc_disabled" />

		<image src="./images/btn_close_norm.png" name="iExitNorm" />
		<image src="./images/btn_close_over.png" name="iExitHigh" />
		<image src="./images/btn_settings_norm.png" name="iSetNorm" />
		<image src="./images/btn_settings_over.png" name="iSetHigh" />
		<image src="./images/btn_games_norm.png" name="iGamesNorm" />
		<image src="./images/btn_games_over.png" name="iGamesHigh" />

		<image src="./images/btn_launch_norm.png" name="iRunNorm" />
		<image src="./images/btn_launch_over.png" name="iRunHigh" />
		<image src="./images/btn_launch_disabled.png" name="iRunDisabled" />

		<image src="./images/check.png" name="iCheck" />
		<image src="./images/check_over.png" name="iCheckHigh" />
		<surface width="18" height="17" name="iUncheck">
			<fill x="0" y="0" width="18" height="17" color="#FFFFFF" />
		</surface>
		<surface width="18" height="17" name="iUncheckHigh">
			<fill x="0" y="0" width="18" height="17" color="#D4F129" />
		</surface>

		<surface width="165" height="20" name="input-text-normal">
			<fill x="0" y="0" width="165" height="20" color="#31799F" />
			<fill x="1" y="1" width="163" height="18" color="#FFFFFF" />
		</surface>
		<surface width="165" height="20" name="input-text-focus">
			<fill x="0" y="0" width="165" height="20" color="#31799F" />
			<fill x="1" y="1" width="163" height="18" color="#D4F129" />
		</surface>
	</resources>
	<body x="0" y="0" width="640" height="480" onload="export:isoLoader_Init()" onunload="export:isoLoader_Shutdown()">
		<panel x="0" y="0" width="640" height="104" background="head_bg">
			<!-- Devices -->
			<panel x="130" y="75" width="150" height="25">
				<input type="button" 
							normal="btn_sd_norm" 
							highlight="btn_sd_over" 
							pressed="btn_sd_over" 
							disabled="btn_sd_disabled" 
							x="0" y="0" width="28" height="23" 
							inactive="true" 
							name="btn_sd" />
							
				<input type="button" 
							normal="btn_cd_norm" 
							highlight="btn_cd_over" 
							pressed="btn_cd_over" 
							disabled="btn_cd_disabled" 
							x="31" y="0" width="28" height="23" 
							inactive="true" 
							name="btn_cd" />
							
					<input type="button" 
							normal="btn_hdd_norm" 
							highlight="btn_hdd_over" 
							pressed="btn_hdd_over" 
							disabled="btn_hdd_disabled" 
							x="62" y="0" width="39" height="23" 
							inactive="true" 
							name="btn_hdd" />
							
					<input type="button" 
							normal="btn_pc_norm" 
							highlight="btn_pc_over" 
							pressed="btn_pc_over" 
							disabled="btn_pc_disabled" 
							x="104" y="0" width="39" height="23" 
							inactive="true" 
							name="btn_pc" />
			</panel>
			<!-- Navigation -->
			<panel x="513" y="20" width="110" height="35">
				<input type="button" 
					normal="iGamesNorm" 
					highlight="iGamesHigh" 
					pressed="iGamesNorm" 
					disabled="iGamesNorm" 
					x="0" y="2" width="28" height="29" 
					name="games" 
					inactive="true" 
					onclick="export:isoLoader_ShowGames()" />
				<input type="button" 
					normal="iSetNorm" 
					highlight="iSetHigh" 
					pressed="iSetNorm" 
					disabled="iSetNorm" 
					x="40" y="0" width="30" height="30" 
					name="settings" 
					onclick="export:isoLoader_ShowSettings()" />
				<input type="button" 
					normal="iExitNorm" 
					highlight="iExitHigh" 
					pressed="iExitNorm" 
					disabled="iExitNorm" 
					x="80" y="0" width="30" height="31" 
					onclick="export:isoLoader_Exit()" />
			</panel>
		</panel>
		
		<!-- Pages -->
		<cardstack x="0" y="100" width="640" height="380" name="pages">
		
			<!-- Filebrowser Page  -->
			<panel x="0" y="0" width="640" height="380" background="games_bg">
				<filemanager path="/" name="file_browser" 
					width="331" height="299" x="28" y="17"
					item_normal="item-normal"
					item_highlight="item-focus"
					item_pressed="item-focus"
					item_disabled="item-selected"
					item_font="m23"
					item_font_color="#3278A0"
					onclick="export:isoLoader_ItemClick()" />
		
				<panel width="300" height="322" x="359" y="58">
					<panel width="256" height="256" x="0" y="0" name="cover_image" background="cover">
				 		<image src="overlay" width="256" height="256" x="0" y="0" />
					</panel>
				</panel>
				
				<panel x="30" y="330" width="250" height="20">
					<label width="250" height="20" x="0" y="0" font="arial" color="#FFFFFF" text="Joystick X + Analog for scrolling" align="left" />
				</panel>
				<panel x="30" y="350" width="250" height="20">
					<label width="250" height="20" x="0" y="0" font="arial" color="#FFFFFF" text="Joystick X + D-Pad for selecting" align="left" />
				</panel>
				
				<input type="button" 
						normal="iRunNorm" 
						highlight="iRunHigh" 
						pressed="iRunNorm" 
						disabled="iRunDisabled" 
						x="450" y="335" width="82" height="30" 
						name="run_iso" 
						inactive="true" 
						onclick="export:isoLoader_Run()" />
			</panel>
				
			<!-- Settings Page  -->
			<panel x="0" y="0" width="640" height="380" background="settings_bg">
			
				<!-- Left Column   -->
				<panel x="0" y="10" width="320" height="350">
				
					<label width="200" height="40" x="40" y="5" font="m23" color="#3078A0" text="Settings:" align="left" />
				
					<panel x="40" y="45" width="270" height="95">
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="0" width="270" height="25" 
							name="dma-checkbox">
							<label width="235" height="20" x="25" y="0" font="arial" color="#000000" text="Use DMA transfer (GD/IDE only)" align="left" />
						</input>
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="25" width="200" height="25" 
							checked="true" 
							name="async-checkbox">
							<label width="170" height="20" x="25" y="0" font="arial" color="#000000" text="Emulate async read" align="left" />
						</input>
						<panel x="0" y="50" width="250" height="45">
							<label width="235" height="20" x="0" y="0" font="arial" color="#000000" text="Sectors per frame (for async read):" align="left" />
							<input type="text" 
									font="arial" 
									fontcolor="#000000" 
									value="8" 
									size="30" x="0" y="25" 
									width="165" height="20" 
									name="async-sectors" 
									normal="input-text-normal" 
									highlight="input-text-normal" 
									focus="input-text-focus" />
						</panel>
					</panel>
				
					<panel x="0" y="150" width="150" height="125">
						<panel width="120" height="20" x="40" y="0">
							<label width="120" height="20" x="0" y="0" font="arial" color="#000000" text="Binary OS:" align="left"/>
						</panel>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="40" y="25" width="200" height="25" 
								name="os-auto-checkbox"
								checked="true"
								onclick="export:isoLoader_toggleOS()">
							<label width="100" height="20" x="25" y="0" font="arial" color="#000000" text="Auto" align="left" />
						</input>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="40" y="50" width="200" height="25" 
								name="os-kos-checkbox"
								onclick="export:isoLoader_toggleOS()">
							<label width="100" height="20" x="25" y="0" font="arial" color="#000000" text="KallistiOS" align="left" />
						</input>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="40" y="75" width="200" height="25" 
								name="os-katana-checkbox"
								onclick="export:isoLoader_toggleOS()">
							<label width="100" height="20" x="25" y="0" font="arial" color="#000000" text="KATANA" align="left" />
						</input>
					</panel>
					
					<panel x="40" y="252" width="165" height="45">
						<label width="260" height="20" x="0" y="0" font="arial" color="#000000" text="Loader device:" align="left" />
						<input type="text" 
								font="arial" 
								fontcolor="#000000" 
								value="auto" 
								size="30" x="0" y="22" 
								width="165" height="20" 
								name="device" 
								normal="input-text-normal" 
								highlight="input-text-normal" 
								focus="input-text-focus" />
					</panel>
				</panel>
				
				<!-- Right Column -->
				<panel x="320" y="10" width="280" height="370">
				
					<panel width="240" height="60" x="40" y="46">
						<label width="120" height="20" x="0" y="0" font="arial" color="#000000" text="Boot mode:" align="left"/>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="0" y="25" width="80" height="25" 
								name="direct-checkbox"
								checked="true"
								onclick="export:isoLoader_toggleBootMode()">
							<label width="65" height="20" x="25" y="0" font="arial" color="#000000" text="Direct" align="left" />
						</input>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="80" y="25" width="75" height="25" 
								name="ipbin-checkbox"
								onclick="export:isoLoader_toggleBootMode()">
							<label width="65" height="20" x="25" y="0" font="arial" color="#000000" text="IP.BIN" align="left" />
						</input>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="160" y="25" width="75" height="25" 
								name="syscall-checkbox"
								onclick="export:isoLoader_toggleBootMode()">
							<label width="72" height="20" x="25" y="0" font="arial" color="#000000" text="Syscall" align="left" />
						</input>
					</panel>
					
					<panel width="250" height="75" x="40" y="96">
						<label width="120" height="20" x="0" y="0" font="arial" color="#000000" text="Boot method:" align="left"/>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="0" y="25" width="80" height="25" 
								name="04x-checkbox"
								checked="true"
								onclick="export:isoLoader_toggleBootMethod()">
							<label width="65" height="20" x="25" y="0" font="arial" color="#000000" text="v0.4.x" align="left" />
						</input>
						<input type="checkbox" 
								onnormal="iCheck" 
								onhighlight="iCheckHigh" 
								offnormal="iUncheck" 
								offhighlight="iUncheckHigh" 
								x="80" y="25" width="80" height="25" 
								name="03x-checkbox"
								onclick="export:isoLoader_toggleBootMethod()">
							<label width="65" height="20" x="25" y="0" font="arial" color="#000000" text="v0.3.x" align="left" />
						</input>
					</panel>
					
					<panel x="40" y="150" width="350" height="150" name="memory_panel">
						<label width="320" height="20" x="0" y="0" font="arial" color="#000000" text="Loader memory:" align="left" />
					
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="25" width="120" height="20" 
							name="0x8c004000"
							checked="true"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8c004000" align="left" />
						</input>
	
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="120" y="25" width="120" height="20" 
							name="0x8c004800"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8c004800" align="left" />
						</input>

						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="50" width="120" height="20" 
							name="0x8ce00000"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8ce00000" align="left" />
						</input>
	
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="120" y="50" width="120" height="20" 
							name="0x8cfd0000"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8cfd0000" align="left" />
						</input>
						
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="75" width="120" height="20" 
							name="0x8cfe0000"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8cfe0000" align="left" />
						</input>
	
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="120" y="75" width="120" height="20" 
							name="0x8cfe8000"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8cfe8000" align="left" />
						</input>
						
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="100" width="120" height="20" 
							name="0x8cff0000"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8cff0000" align="left" />
						</input>
	
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="120" y="100" width="120" height="20" 
							name="0x8cff4800"
							onclick="export:isoLoader_toggleMemory()">
							<label width="105" height="20" x="25" y="0" font="arial" color="#000000" text="0x8cff4800" align="left" />
						</input>
						
						<input type="checkbox" 
							onnormal="iCheck" 
							onhighlight="iCheckHigh" 
							offnormal="iUncheck" 
							offhighlight="iUncheckHigh" 
							x="0" y="125" width="50" height="20" 
							name="0x8c"
							onclick="export:isoLoader_toggleMemory()">
							<label width="55" height="20" x="25" y="0" font="arial" color="#000000" text="0x8c" align="left" />
						</input>
						
						<input type="text" 
								onblur="export:isoLoader_toggleMemory()"
								font="arial" 
								fontcolor="#000000" 
								value="000100" 
								size="30" x="58" y="123" 
								width="165" height="20" 
								name="memory_text" 
								normal="input-text-normal" 
								highlight="input-text-normal" 
								focus="input-text-focus" />
					</panel>
				</panel>
			</panel>
		</cardstack>
	</body>
</app>
